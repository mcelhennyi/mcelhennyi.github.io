{"meta_description": "A blog post about GPS and USB3.0 issues", "head_title": "GPS and USB3.0 Interference post", "background_image_name": "emi.jpeg", "title": "Gps and usb3.0 interference", "sub_title": "How USB3.0 Spec can negatively interact with GPS receivers", "post_date": "February 23, 2023", "article_text": "\t\t\t\t\t<p>During my time at Third Insight (current) we were tasked with creating a drone that could both fly indoors and outdoors. We made several design decisions early on to be able to prioritize our time into the future for other tasks. One of those decisions was to not focus on an in house SLAM solution initially, but instead use a commercial off the shelf (COTS) solution. We went with both the D435 for point clouds and the T265 with a GPS receiver for positioning. This decision had a LOT of downstream effects, one being USB3.0 interference. </p>\n\t\t\t\t\t<h2 class=\"section-heading\">The Issue</h2>\n\t\t\t\t\t<p>It\u2019s a <a href=\"https://www.google.com/search?q=gps+usb3.0+interference\">well known problem</a> (to some) that the USB3.0 spec is very noisy. This is due to the high speed communication over the USB3.0 wires and connectors without the existence of twisted pairs (such as what is found in an ethernet cable) or sufficient shielding. Twisted pairs are beneficial because they allow for a positive and a negative signal to be sent along two wires that are twisted together. However, it is not just any positive and negative signal, specifically they are differential signals. This means that the negative signal is the exact inverse of the positive signal. This allows for a few benefits. One benefit of a twisted pair is they reduce the electromagnetic radiation/interference (EMI) from the signals over the wires. When current is moving along a wire it creates a magnetic field around that wire in a rotational fashion (<a href=\"https://web.ua.es/docivis/magnet/righthand_rule.html#:~:text=An%20electric%20current%20passes%20through,of%20the%20magnetic%20north%20pole.\">right hand rule for current and magnetism</a>). We also know that the frequency of the signal has a direct relationship to the frequency of noise generated by the signal. If you twist the wires and send the same signal shape with inverted magnitudes that causes an inversion of the magnetic field from each wire relative to each other. This allows the fields to effectively cancel each other out, theoretically making the magnetic field 0 in each direction. </p>\n\t\t\t\t\t<p>USB3.0 is not a differential type of protocol. Meaning the wires internal to the cable of a USB3.0 cable are not twisted pairs with reduced (or no) EMI. The best a USB3.0 cable can do is shield its internal noise from one end to another. This is done by wrapping the bundle of wires in a conductive sleeve that is grounded on ONE end. If the shield is grounded on both ends it either acts as the ground itself OR as a ground loop if there is also a ground wire in the bundle. A ground loop can greatly reduce the effectiveness of a ground shield. USB3.0 is also a high speed protocol, meaning that the noise generated is high frequency. However, USB 2.0 does not suffer from this issue because its speeds do not approach the frequency of a GPS receiver. </p>\n\t\t\t\t\t<h2 class=\"section-heading\">The Solution</h2>\n\t\t\t\t\t<p>The solution we came up with for our drone was to wrap all USB3.0 components, cables, and connectors in a one-side-grounded shield. This ensured that the ground plane that we wrapped around every cable and component would NOT induce a ground loop. It was specifically important to extend the shielding over the connector as well, since the connector itself was a large source of noise. This solution took an unusable GPS antenna and made it work almost as well as it did without any USB3.0 devices. In our test case our GPS receiver was a few inches above any USB3.0 devices. This made use of the built in ground plane on the bottom of the GPS unit. We also placed it several inches behind any of the USB3.0 devices/cables to increase the distance between the GPS and EMI. As we know EMI intensity follows the <a href=\"https://en.wikipedia.org/wiki/Inverse-square_law\">inverse square law</a>. This means that any distance, D, you move away from the signal, intensity reduces by a factor of D^2.</p>\n", "additional_path_back": "", "post_page_href": "blogs/GPS_and_USB3_Interference.html"}